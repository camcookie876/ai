<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Camcookie AI — Test Version</title>
</head>
<body>
  <h2>Camcookie AI — Local Test</h2>

  <input id="input" placeholder="Type something..." style="width: 300px;">
  <button onclick="runAI()">Send</button>

  <pre id="output" style="margin-top: 20px; white-space: pre-wrap;"></pre>

  <script type="module">
    import { pipeline } from "https://cdn.jsdelivr.net/npm/@xenova/transformers@2.6.0";

    let pipe;

    async function runAI() {
      const input = document.getElementById("input").value;
      const output = document.getElementById("output");

      output.textContent = "Thinking…";

      // Load the model once
      if (!pipe) {
        pipe = await pipeline(
          "text-generation",
          "Xenova/gpt2"   // small, loads fast, works everywhere
        );
      }

      const result = await pipe(input, {
        max_new_tokens: 60
      });

      output.textContent = result[0].generated_text;
    }
  </script>
</body>
</html>